<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="description" content="Index EscolhaCerta"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<title>Escolha Certa</title>
<h:outputStylesheet library="css" name="produto.css" />
<h:outputStylesheet library="bootstrap/css" name="bootstrap.min.css" />
  
<!-- CSS do Bootstrap -->			  
<link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/img/favicon.ico" />
<link rel="stylesheet" href="resources/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" jsf:integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" jsf:crossorigin="anonymous" />
</h:head>
<h:body>
	<div id="nav" class="d-block d-sm-none d-lg-none">
		<div id="div" class="logo-header text-center">
			<!-- class="mobile-img" -->
			<h:graphicImage id="img" value="/resources/img/logo-escolha-certa-mini.png" alt="Logotipo EsolhaCerta" />
		</div>		
	</div>
	
	<div id="header" class="d-none d-sm-block nav-container">
		<div class="px-5 py-3" style="background-color:orange;">
			<div class="page-title logo-header">
				<h:graphicImage value="/resources/img/logo-escolha-certa-mini.png"					
						 alt="Logotipo EsolhaCerta" />
			</div>
			<div class="navbar-header float-right">
			<ul class="nav navbar-nav float-right be-user-nav" style="display: block; color: white;">
				<!-- ui:repeat: componente JSF para iteração de Listas, Arrays, etc..
				var : indica nome pelo qual cada item da iteração será chamado
				value : daonde ele busca os valores para iteração  -->
				<ui:repeat var="categoria" value=""> <!-- #{categoriaManagedBean.categoria} -->			
					<li style="float: left; width:5;">|</li>
					<li class="disabled d-none" style="float:left; width:25;" jsf:rendered=""> 
					<!-- #{not empty usuarioBean.usuario} --> 
						<!-- Equivalente ao a href :: value aponta para link -->
						<f:view>
							<h:link value=""
									styleClass="navbar-brand"
									action="" 
									style="color: white;">
								<!-- Ícone de usuário -->
								<i class="far fa-user-circle"></i> <!-- #{userArea.usuario.nome}  -->
							</h:link>
						</f:view>						
					</li>
					<li class="disabled" style="float: left; width:25;">
					<!-- Renderiza a href :: value == saída de texto do botão
						 outocme :: para onde o link enviará :: usar sem .xhtml? --> 
						<h:link value="Cadastre-se" outcome="cadastro.xhtml" 
							styleClass="navbar-brand"
							action="" style="color: white;"
						/>
					</li>
					<li class="disabled" style="float: left; width:25;"> 
						<h:commandButton value="Login"
							styleClass="navbar-brand" 
							data-toggle="modal" 
							data-target="#loginModal"
							style="color: white; border:none; background:none; cursor: default;"
						/>
					</li>
					<!-- <li class="disabled" style="float: left; width:25;"> 
						<a href="#" class="navbar-brand" action="areadousuario?faces-redirect=true" style="color: white;" data-toggle="modal" data-target="#loginModal"> Login </a> </li>  -->
					<li class="disabled d-none" style="float: left; width:25;">
					<!-- Renderiza a href :: value == saída de texto do botão
						 outocme :: para onde o link enviará :: usar sem .xhtml? 
						 action :: redireciona a página
					-->
						<h:link value="Sair" outcome=""
							action=""
							styleClass="navbar-brand" style="color: white;"
						/> 
					</li>				
				</ui:repeat>						
			</ul>							 				
			</div>
		</div>
	</div>
	<!-- Menu de categorias -->
	<div class="d-none d-sm-block">
		<div class="fluid-continer">				
			<ul>
				<ui:repeat var="categoria" value="">
				<!-- #{categoriasBean.categorias} -->
					<li class="inline-items d-inline">
						| <!-- #{categoria.nome}  -->
					</li>					
					<div class="btn-group">
						<h:commandButton value="Mais Categorias"
							styleClass="btn dropdown-toggle" 
							data-toggle="dropdown" 
							aria-haspopup="true" 
							aria-expanded="false"							
						/>						
						<ul class="dropdown-menu dropdown-menu-right">
						   <li>
						   		<h:link value="" outcome=""
									action=""
									styleClass="dropdown-item"
								/>
						   	</li>						   
						</ul>
					</div>					
				</ui:repeat>
			</ul>
		</div>
	</div>
	<!-- Produto aberto --> 

	<div id="section" class="background col-xs-12 col-sm-9 col-md-9 col-lg-9"> 
	   <!-- fluid-container -->
	   <div class="pt-5 fluid-container">  
	   		<!-- <div id="produt"> -->
	   		<h:dataTable var="produto" value="#{consultaManagedBean.produtos}"
	   			columnClasses="image, descricao, preco, precoMedio, comentarios, avaliacaoMedia">
	   			<!-- Imagem que receberá a imagem do produto por código de indexação -->
	   			<div class="imgProdBig">
	   				<h:graphicImage value="#{produto.idProduto}.png" alt="Foto do Produto" />
	   				<!-- #{produtoManagedBean.produtos.cod}.png -->
	   			</div>
	   		
	   			<span class="descAlign">
		   			<h2> #{produto.modelo} </h2> 
		   			<p><h3>Marca: </h3> #{produto.marca}</p>
		   			<p><h3>Preço: </h3> #{produto.preco}</p>
		   			<!-- criar opcao preco medio -->
		   			<p><h3>Faixa preço:</h3> #{produto.preco} </p>
		   		</span>	  
		   	 			
	   		<!-- caixa de comentarios -->				
			<div id="coments">
				<h3>Comentários</h3>
				<!-- Add ao BD -->
				<p> #{produto.coment} </p>
			</div>
			
			<!-- caixa da pontuação da avaliação -->
			<div id="points">
				<span><h3>Avaliação média:</h3></span>
				<div class="stars">
					<i class="far fa-star"></i>
					<i class="far fa-star"></i>
					<i class="far fa-star"></i>
					<i class="far fa-star"></i>
					<i class="far fa-star-half-alt"></i>
				</div>			
			</div>    
	   </h:dataTable>   	 
       <!-- encerra fluid-container -->
       </div>
       <!-- Conteúdo lateral de classificação de produtos -->
       <div id="aside" class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
       		<div id="best-prod" class="list-group pt-3">
       		<h:dataTable var="bstProduto" value="#{consultaManagedBean.produtos}"
	   			columnClasses="image, nome, marca">
		         <h:column>
			             <h:graphicImage value="#{produto.idProduto}.png" alt="Miniatura" />
			             <!-- #{produtoManagedBean.produtos.cod}-min.png -->
		         </h:column>
		         <h:column>
		                 <f:facet name="header">Nome: #{bstProduto.modelo}</f:facet>
		             	 <!-- #{produtoManagedBean.produtos.nome}  -->
		         </h:column>
		         <h:column>
			             <p><f:facet name="header">Marca: #{bstProduto.marca}</f:facet>
		             	 <!-- #{produtoManagedBean.produtos.marca}  --> </p>
		         </h:column>
       		</h:dataTable>
       		</div>
       		<div id="worst-prod" class="list-group">
       			<!-- ref:: https://www.devmedia.com.br/data-binding-manipulando-datatable-no-managedbean-em-jsf/32283 -->
       			<h:dataTable value="#{consultaManagedBean.produtos}" var="wstProdutos"
       				columnClasses="image, nome, marca">
		         <h:column>
			             <h:graphicImage value="#{wstProdutos.idProduto}" alt="Miniatura" />
			             <!-- #{produtoManagedBean.produtos.cod}-min.png -->
		         </h:column>
		         <h:column>
		                 <f:facet name="header">Nome: #{wstProdutos.modelo}</f:facet>
		             	 <!-- #{produtoManagedBean.produtos.nome} -->
		         </h:column>
		         <h:column>
			             <p><f:facet name="header">Marca: #{wstProdutos.marca}</f:facet>
		             	 <!-- #{produtoManagedBean.produtos.marca} --></p>
		         </h:column>
       		</h:dataTable>
       		</div>
       </div>	         
	</div>
	
	<!-- footer -->
	<div id="footer" class="nav-container">
		<div class="page-header p-4" style="background-color:#f1f1f1;"></div>
	</div>		
	
	<!-- Modal Login -->
	<div class="modal fade" 
		 jsf:role="dialog" 
		 id="loginModal" 
		 jsf:tabindex="-1" 
		 jsf:aria-labelledby="exampleModalLabel" 
		 jsf:aria-hidden="true">
	    <div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title">Efetue Login</h3>
						<h:commandButton styleClass="close" data-dismiss="modal">
							<i class="fas fa-times"></i>
						</h:commandButton>							
				</div>
			
				<div class="modal-body">
					<div class="form-group">
						<label>Login:</label>
						<h:inputText name="username" 
									 styleClass="form-control" 
									 ui:placeholder="Nome do Usuário..."
									 value="#{loginManagedBean.usuario.nome}"/>
									 <!-- #{loginManagedBean.usuario.emailUsuario} -->									 
					</div>
					<div class="form-group">
						<label>Senha:</label>
						<h:inputSecret name="passowrd" 
									 styleClass="form-control" 
									 ui:placeholder="Digite senha..."
									 value="#{loginManagedBean.usuario.senha}"/>
						<!-- #{loginManagedBean.usuario.senha} -->									 
					</div>
				</div>
						
				<div class="modal-footer">
				   <h:commandButton value="Logar"
				   					styleClass="btn btn-sucess"
				   					action="#{loginManagedbean.envia}"							   					
				   />				   		
				   <!--  -->		   
				</div>
			</div>
		</div>	
	</div> 
	<!-- Modal fim -->
	
<!-- Javascript das dependências do Bootstrap -->					
<h:outputScript name="jquery.min.js" library="bootstrap/js" />
<h:outputScript name="popper.min.js" library="js" />
<h:outputScript name="bootstrap.min.js" library="js" />					
<!-- 
<script type="text/javascript" src="resources/bootstrap/js/jquery.min.js"></script>
<script type="text/javascript" src="resources/bootstrap/js/popper.min.js"></script>
<script type="text/javascript" src="resources/bootstrap/js/bootstrap.min.js"></script>
 -->
</h:body>
</html>