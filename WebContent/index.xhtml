<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="description" content="Index EscolhaCerta"/>
  		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  		<title>Escolha Certa</title>
  		<h:outputStylesheet library="css" name="index.css" />
  		<h:outputStylesheet library="bootstrap/css" name="bootstrap.min.css" />
  		<h:outputStylesheet library="fontawesome/css" name="font-awesome.min.css" />
  
		<!-- CSS do Bootstrap -->			  
		<link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/img/favicon.ico" />
		<link rel="stylesheet" href="resources/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="resources/fontawesome/css/fontawesome.min.css" />
		<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" /> -->
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" jsf:integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" jsf:crossorigin="anonymous" />
		
<script>
	$('#myModal').on('shown.bs.modal', function () {
	  $('#myInput').trigger('focus')
	})
</script> 
</h:head>
<h:body>
	<div id="nav" class="d-block d-sm-none d-lg-none">
		<div id="div" class="logo-header text-center">
			<!-- class="mobile-img" -->
			<h:graphicImage id="img" value="/resources/img/logo-escolha-certa-mini.png" alt="Logotipo EsolhaCerta" styleClass="m-disabled" />
		</div>		
	</div>
	
	<div id="header" class="d-none d-sm-block nav-container">
		<div class="px-5 py-3" style="background-color:orange;">
			<!-- <div class="page-title logo-header">
				<h:commandLink action="index?faces-redirect=true"
							   styleClass="navbar-brand" />
					<h:graphicImage value="/resources/img/logo-escolha-certa-mini.png"					
							 alt="Logotipo EsolhaCerta" />
				</h:commandLink>
			</div> -->
			<div class="navbar-header float-right">
			<!-- <ul class="nav navbar-nav float-right be-user-nav" style="display: block; color: white;">  -->
			<ul class="nav navbar-nav float-left be-user-nav" style="display: block; color: white;">			
					<li style="float: left; width:5; margin-right: 2px;">|</li>
			</ul>
				 
			<!-- centralizar verticalmente -->
			<h:panelGrid column="4" styleClass="" >
			<h:form>
				<!-- ui:repeat: componente JSF para iteração de Listas, Arrays, etc..
				var : indica nome pelo qual cada item da iteração será chamado
				value : daonde ele busca os valores para iteração  -->
				<!-- <ui:repeat var="categoria" value="#{categoriaManagedBean.categoria}"> -->
				 
						<!-- Equivalente ao a href :: value aponta para link -->
						
						<h:link styleClass="navbar-brand"
								action="/restricted/areadousuario?faces-redirect=true" 
								style="float: left; color: white; width:25; line-height:1;"
								rendered="#{loginManagedBean.log}">
								<!-- Ícone de usuário -->
								<i class="far fa-user-circle"></i> #{loginManagedBean.usuario.nome}
						</h:link>			
									
					<!-- Renderiza a href :: value == saída de texto do botão
						 action :: envia para a pagina cadastro.xhtml --> 
						<h:commandLink value="Cadastre-se" action="cadastro?faces-redirect=true" 
							styleClass="navbar-brand disabled"
							style="float: left; color: white; width:25; line-height:1;"
						/>
					
						<h:commandButton value="Login"
							action="login?faces-redirect=true"
							styleClass="navbar-brand" 
							style="color: white; border:none; background:none; cursor: default;
							float: left; width:25; line-height:1;"
							rendered="#{loginManagedBean.log eq false}"
						/>
					<!-- Renderiza a href :: value == saída de texto do botão
						 outocme :: para onde o link enviará :: usar sem .xhtml? 
						 action :: redireciona a página
					-->
					
						<h:commandLink value="Sair"
							action="areadousuario?faces-redirect=true"
							styleClass="navbar-brand"  
							style="float: left; color: white; width:25; line-height:1;"
							rendered="#{loginManagedBean.log}"
						/> 

			   </h:form>
			   </h:panelGrid>						 				
		   </div>
		</div>
	</div>

	<!-- Menu de categorias -->
	<div class="d-none d-sm-block" id="nav">
		<div class="fluid-continer">				
			<ul class="menu">
				<!-- <ui:repeat var="categoria" value="#{produtoManagedBean.categorias}">  -->
				<h:form id="categoria">
					<ui:repeat value="#{produtoManagedBean.fstCategories}" var="fstcategoria">
						<a href="produtos.xhtml?q=#{fstcategoria}" style="text-decoration: none; color: black;">
							<li class="inline-items d-inline line-height: 1;" style="width: 190; float:left; padding: 2px;">
								| #{fstcategoria}
							</li>
						</a>
					</ui:repeat>
					<li class="drop" style="float:left;">
						<h:commandLink styleClass="dropdown-toggle"
									   jsf:data-toggle="dropdown">
							Mais categorias <span class="caret"></span>		
						</h:commandLink>
						<ul class="itens">
							 <ui:repeat value="#{produtoManagedBean.sndCategories}" var="sndcategoria">
								<a href="produtos.xhtml?q=#{sndcategoria}" style="text-decoration: none; color: black;">
									<li>#{sndcategoria}</li>
								</a>
							</ui:repeat>
						</ul>
					</li>				   
							
				</h:form>
			</ul>
		</div>
	</div>	<!-- Área das pesquisas --> 

	<div id="section" class="background"> 
		<!-- fluid-container -->
		<div class="pt-5 fluid-container">  
			  <div class="row">			  				  	
				<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
					<h:graphicImage value="/resources/img/logo-escolha-certa-big.png" 
										alt="Logotipo EsolhaCerta" 
										styleClass="img-responsive" />
				</div>				
			  </div>
			  <div class="row justify-content-center centered">			  					
		    	<div class="col-xl-6 col-sm-6 col-md-6 col-lg-6 align-self-center">
		    		<!-- action="" -->
		            <h:form>
		              <div class="input-group">		         
		              	 <h:inputText styleClass="form-control"
		              	 			  jsf:type="search"
		              	 			  id="system-search" 
		              	 			  jsf:placeholder="Digite sua pesquisa..."
		              	 			  value="#{pesquisaManagedBean.pesquisa.query}" 
		              	 			  jsf:name="q"/>		              	             
		                 <span class="input-group-btn">
		                 <h:commandLink action="#{pesquisaManagedBean.getSearch}" 
		                   				styleClass="btn btn-default search" 
		                   				style="background: #e8eaed; border-bottom-left-radius: 0px; border-top-left-radius: 0px;">
		                   		<i class="fas fa-search"></i>
		                 </h:commandLink>
		                 </span>		              
					  </div>
		            </h:form>		            
        		</div>        		
        	  </div>        	 
        <!-- encerra fluid-container -->
       </div>	         
	</div>
	
	<!-- footer -->
	<div id="footer" class="nav-container">
		<div class="page-header p-4" style="background-color:#f1f1f1;"></div>
	</div>	
	
<!-- Javascript das dependências do Bootstrap -->
<script type="text/javascript" src="#{request.contextPath}/resources/bootstrap/js/jquery.min.js"></script>
<script type="text/javascript" src="#{request.contextPath}/resources/bootstrap/js/popper.min.js"></script>
<script type="text/javascript" src="#{request.contextPath}/resources/bootstrap/js/bootstrap.min.js"></script>
</h:body>
</html>